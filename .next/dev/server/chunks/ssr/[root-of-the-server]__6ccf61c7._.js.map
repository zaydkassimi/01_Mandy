{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Zayd/Desktop/01_Mandy/components/ui/Input.js"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default function Input(props) {\r\n  return (\r\n    <input\r\n      className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-300\"\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS,MAAM,KAAK;IACjC,qBACE,qKAAC;QACC,WAAU;QACT,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Zayd/Desktop/01_Mandy/pages/expenses.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport Card from \"../components/ui/Card\";\r\nimport Input from \"../components/ui/Input\";\r\nimport Button from \"../components/ui/Button\";\r\n\r\nexport default function Expenses() {\r\n  const [date, setDate] = useState(\"\");\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [note, setNote] = useState(\"\");\r\n  const [receiptFile, setReceiptFile] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  async function submit(e) {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    // prepare payload, include receipt as base64 if present\r\n    let receiptData = null;\r\n    if (receiptFile) {\r\n      receiptData = await new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.readAsDataURL(receiptFile);\r\n      });\r\n    }\r\n    const res = await fetch(\"/api/expenses\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ date, amount, note, receipt: receiptData })\r\n    });\r\n    const data = await res.json();\r\n    if (data.ok) {\r\n      setMessage(\"Submitted for approval\");\r\n      setDate(\"\"); setAmount(\"\"); setNote(\"\");\r\n    } else {\r\n      setMessage(data.message || \"Failed\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <h1>Submit Expense</h1>\r\n      <Card className=\"max-w-xl\">\r\n        <form onSubmit={submit} className=\"grid gap-3\">\r\n          <label className=\"text-sm font-medium text-gray-700\">Date</label>\r\n          <Input type=\"date\" value={date} onChange={(e) => setDate(e.target.value)} />\r\n          <label className=\"text-sm font-medium text-gray-700\">Amount (GBP)</label>\r\n          <Input value={amount} onChange={(e) => setAmount(e.target.value)} placeholder=\"0.00\" />\r\n          <label className=\"text-sm font-medium text-gray-700\">Note</label>\r\n          <Input value={note} onChange={(e) => setNote(e.target.value)} placeholder=\"Reason or receipt info\" />\r\n          <label className=\"text-sm font-medium text-gray-700\">Receipt (optional)</label>\r\n          <input type=\"file\" accept=\"image/*,application/pdf\" onChange={(e) => setReceiptFile(e.target.files[0])} />\r\n          <div>\r\n            <Button type=\"submit\">Submit expense</Button>\r\n            {message && <div className=\"text-sm text-gray-600 mt-2\">{message}</div>}\r\n          </div>\r\n        </form>\r\n      </Card>\r\n    </main>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+GAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,eAAe,OAAO,CAAC;QACrB,EAAE,cAAc;QAChB,WAAW;QACX,wDAAwD;QACxD,IAAI,cAAc;QAClB,IAAI,aAAa;YACf,cAAc,MAAM,IAAI,QAAQ,CAAC;gBAC/B,MAAM,SAAS,IAAI;gBACnB,OAAO,MAAM,GAAG,IAAM,QAAQ,OAAO,MAAM;gBAC3C,OAAO,aAAa,CAAC;YACvB;QACF;QACA,MAAM,MAAM,MAAM,MAAM,iBAAiB;YACvC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAM;gBAAQ;gBAAM,SAAS;YAAY;QAClE;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,KAAK,EAAE,EAAE;YACX,WAAW;YACX,QAAQ;YAAK,UAAU;YAAK,QAAQ;QACtC,OAAO;YACL,WAAW,KAAK,OAAO,IAAI;QAC7B;IACF;IAEA,qBACE,qKAAC;;0BACC,qKAAC;0BAAG;;;;;;0BACJ,qKAAC,4HAAI;gBAAC,WAAU;0BACd,cAAA,qKAAC;oBAAK,UAAU;oBAAQ,WAAU;;sCAChC,qKAAC;4BAAM,WAAU;sCAAoC;;;;;;sCACrD,qKAAC,6HAAK;4BAAC,MAAK;4BAAO,OAAO;4BAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;sCACvE,qKAAC;4BAAM,WAAU;sCAAoC;;;;;;sCACrD,qKAAC,6HAAK;4BAAC,OAAO;4BAAQ,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;4BAAG,aAAY;;;;;;sCAC9E,qKAAC;4BAAM,WAAU;sCAAoC;;;;;;sCACrD,qKAAC,6HAAK;4BAAC,OAAO;4BAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BAAG,aAAY;;;;;;sCAC1E,qKAAC;4BAAM,WAAU;sCAAoC;;;;;;sCACrD,qKAAC;4BAAM,MAAK;4BAAO,QAAO;4BAA0B,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;;;;;;sCACrG,qKAAC;;8CACC,qKAAC,8HAAM;oCAAC,MAAK;8CAAS;;;;;;gCACrB,yBAAW,qKAAC;oCAAI,WAAU;8CAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrE"}}]
}