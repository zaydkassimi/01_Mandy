module.exports=[6890,(a,b,c)=>{b.exports=a.x("cookie",()=>require("cookie"))},6187,(a,b,c)=>{b.exports=a.x("jsonwebtoken",()=>require("jsonwebtoken"))},5556,a=>{"use strict";var b=a.i(6187);a.i(6890);let c=process.env.JWT_SECRET||"dev-secret";function d(a){try{return b.default.verify(a,c)}catch(a){return null}}a.s(["verifyToken",()=>d])},8952,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(3590),f=a.i(7342),g=a.i(8171),h=a.i(6890),i=a.i(5556);function j({user:a}){function b(a,c="csv"){"csv"===c&&(window.location.href=`/api/export?type=${a}`),"xlsx"===c&&(window.location.href=`/api/export_xlsx?type=${a}`),"docx"===c&&(window.location.href=`/api/export_docx?type=${a}`)}return(0,g.jsxs)("main",{children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[(0,g.jsx)("h1",{children:"Export Data"}),(0,g.jsxs)("div",{className:"small",children:["Signed in as ",(0,g.jsx)("strong",{children:a.email})]})]}),(0,g.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,g.jsx)("p",{className:"small",children:"Select the dataset and format you want to export. CSV is good for spreadsheets, XLSX for richer Excel use, DOCX for readable reports."}),(0,g.jsx)("div",{className:"export-grid",style:{marginTop:18},children:[{key:"users",title:"Users",desc:"All staff accounts and roles",emoji:"ðŸ‘¥"},{key:"attendances",title:"Attendance",desc:"Check-in/out records with location & photo",emoji:"ðŸ•˜"},{key:"shifts",title:"Shifts",desc:"Scheduled shifts and times",emoji:"ðŸ“…"},{key:"expenses",title:"Expenses",desc:"Recorded expenses (GBP)",emoji:"ðŸ’·"}].map(a=>(0,g.jsxs)("div",{className:"export-tile card",children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,g.jsx)("div",{style:{fontSize:28},children:a.emoji}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontWeight:700},children:a.title}),(0,g.jsx)("div",{className:"small",children:a.desc})]})]}),(0,g.jsxs)("div",{style:{marginTop:12,display:"flex",gap:8},children:[(0,g.jsx)("button",{className:"btn",onClick:()=>b(a.key,"csv"),children:"CSV"}),(0,g.jsx)("button",{className:"btn secondary",onClick:()=>b(a.key,"xlsx"),children:"XLSX"}),(0,g.jsx)("button",{className:"btn",onClick:()=>b(a.key,"docx"),children:"DOCX"})]})]},a.key))})]})]})}function k({req:a}){let b=(a.headers.cookie?(0,h.parse)(a.headers.cookie||""):{}).token,c=b?(0,i.verifyToken)(b):null;return c&&"admin"===c.role?{props:{user:c}}:{redirect:{destination:"/",permanent:!1}}}a.s(["default",()=>j,"getServerSideProps",()=>k],1814);var l=a.i(1814),m=a.i(9193);let n=(0,d.hoist)(l,"default"),o=(0,d.hoist)(l,"getStaticProps"),p=(0,d.hoist)(l,"getStaticPaths"),q=(0,d.hoist)(l,"getServerSideProps"),r=(0,d.hoist)(l,"config"),s=(0,d.hoist)(l,"reportWebVitals"),t=(0,d.hoist)(l,"unstable_getStaticProps"),u=(0,d.hoist)(l,"unstable_getStaticPaths"),v=(0,d.hoist)(l,"unstable_getStaticParams"),w=(0,d.hoist)(l,"unstable_getServerProps"),x=(0,d.hoist)(l,"unstable_getServerSideProps"),y=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/admin/export",pathname:"/admin/export",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:l}),z=(0,m.getHandler)({srcPage:"/admin/export",config:r,userland:l,routeModule:y,getStaticPaths:p,getStaticProps:o,getServerSideProps:q});a.s(["config",0,r,"default",0,n,"getServerSideProps",0,q,"getStaticPaths",0,p,"getStaticProps",0,o,"handler",0,z,"reportWebVitals",0,s,"routeModule",0,y,"unstable_getServerProps",0,w,"unstable_getServerSideProps",0,x,"unstable_getStaticParams",0,v,"unstable_getStaticPaths",0,u,"unstable_getStaticProps",0,t],8952)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f81a4ab1._.js.map